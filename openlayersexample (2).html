<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.3.0/css/ol.css" type="text/css">
    <style>
      .map {
        height: 100%;
        width: 100%;
      }
    </style>

   <!-- <script src="http://www.openlayers.org/api/OpenLayers.js" type="text/javascript"></script>-->
    <script src="http://openlayers.org/en/v3.3.0/build/ol.js" type="text/javascript"></script>
    <title>OpenLayers 3 example</title>
    <div id="map" style="height:500px"></div>
    <div id="info" style="height:30px"></div>
        <body>
         <script>
         	var infoControls;
         	var openCycleMapLayer = new ol.layer.Tile({
  				source: new ol.source.OSM({
    				attributions: [
      				new ol.Attribution({
        			html: 'All maps &copy; ' +
            		'<a href="http://www.opencyclemap.org/">OpenCycleMap</a>'
      		}),
      		ol.source.OSM.ATTRIBUTION
    		],
    		url: 'http://{a-c}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png'
  		})
		});
            var gribSource = new ol.source.TileWMS({
            					url: 'http://localhost:8080/geoserver/wms',
                                params: {'LAYERS': 'cite:Temperature_surface'},
                                serverType: 'geoserver'
                                //crossOrigin: ''
                                
                 });
            var gribLayer = new ol.layer.Tile({
			  source: gribSource,
			  opacity: 0.5
			});
			var view = new ol.View({
  				center: [0, 0],
  				zoom: 1
			});
        	var map = new ol.Map({
				layers: [openCycleMapLayer, gribLayer],
			  	target: 'map',
			  	view: view,
			  	//renderer: exampleNS.getRendererFromQueryString(),
			  	//loadTilesWhileAnimating: true

			 	//controls: ol.control.defaults({
			    //attributionOptions: /** @type {olx.control.AttributionOptions} */ 
			    //({
			      //collapsible: false
			    //})
		  	});
			map.on('pointermove', function(evt) {
  			document.getElementById('info').innerHTML = '';
  			var viewResolution = /** @type {number} */ (view.getResolution());
  			var url = gribSource.getGetFeatureInfoUrl(
      		evt.coordinate, viewResolution, 'EPSG:3857',
      		{'INFO_FORMAT': 'text/html'});
  			if (url) {
    			document.getElementById('info').innerHTML =
        		'<iframe seamless src="' + url + '"></iframe>';
  			}
			});
              

         </script>
        </body>
</html>